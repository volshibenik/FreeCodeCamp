<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Tic-Tac-Toe</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="container">
		<div class="square square-1"></div>
		<div class="square square-2"></div>
		<div class="square square-3"></div>
		<div class="square square-4"></div>
		<div class="square square-5"></div>
		<div class="square square-6"></div>
		<div class="square square-7"></div>
		<div class="square square-8"></div>
		<div class="square square-9"></div>
	</div>
	
	
	
	<script>
		var classHuman = 'cross',
				classAI = 'zero';
		
		
		
		var el = document.getElementsByClassName('square');
		const el1 = document.querySelector('.square-1'),
					el2 = document.querySelector('.square-2'),
					el3 = document.querySelector('.square-3'),
					el4 = document.querySelector('.square-4'),
					el5 = document.querySelector('.square-5'),
					el6 = document.querySelector('.square-6'),
					el7 = document.querySelector('.square-7'),
					el8 = document.querySelector('.square-8'),
					el9 = document.querySelector('.square-9'),
					win_sequence = [[el1,el2,el3],
													[el4,el5,el6],
													[el7,el8,el9],
													[el1,el4,el7],
													[el2,el5,el8],
													[el3,el6,el9],
													[el1,el5,el9],
													[el3,el5,el7]];
		
		var turnN = 0;
		
		
		function check_win(sideClass) {
			for (var i = 0; i < 8; i++) {
				if (win_sequence[i][0].classList.contains(sideClass) && 
						win_sequence[i][1].classList.contains(sideClass)&&
						(!win_sequence[i][2].classList.contains(classAI)||
						 !win_sequence[i][2].classList.contains(classHuman))
					 ) {
					return win_sequence[i][2];
				}
				if (win_sequence[i][1].classList.contains(sideClass) && 
						win_sequence[i][2].classList.contains(sideClass)&&
						(!win_sequence[i][0].classList.contains(classAI)||
						 !win_sequence[i][2].classList.contains(classHuman))
					) {
					return win_sequence[i][0];
				}
				if (win_sequence[i][0].classList.contains(sideClass) && 
						win_sequence[i][2].classList.contains(sideClass)&&
						(!win_sequence[i][1].classList.contains(classAI)||
						 !win_sequence[i][2].classList.contains(classHuman))
					 ) {
					return win_sequence[i][1];
				}
			}
		}
		
		function AI_move() {
			var winMove = check_win(classAI);
			if (winMove) winMove.classList.add(classAI);
			var counterMove = check_win(classHuman);
			if (counterMove) counterMove.classList.add(classAI) ;
		}
		
		function AI_alg() {
			turnN +=1;
			if (turnN === 1) {
				if (el5.classList.contains(classHuman)) {
					el1.classList.add(classAI);
				} else if (el1.classList.contains(classHuman) ||
									 el3.classList.contains(classHuman) ||
									 el7.classList.contains(classHuman) ||
									 el9.classList.contains(classHuman)) {
					el5.classList.add(classAI);
				} 
			} else AI_move()
		}


		for (var i = 0; i < el.length; i++) {
			el[i].addEventListener('click', function(){
				var attribute = this.getAttribute("class");
		//		alert(attribute);
				
				this.classList.add(classHuman);
				
				AI_alg();
			});
		}
		


	</script>
	
</body>
</html>