<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>twitch API</title>
</head>
<body>
	<ul class="channel-list">
		
	</ul>
	
	
	
	<script>
		const jsonStr  = "https://wind-bow.glitch.me/twitch-api/streams/";
		var arr= ["alanzoka", "thijshs", "silvername", "playhearthstone", "ESL_SC2", "OgamingSC2", "cretetion", "freecodecamp", "storbeck", "habathcx", "RobotCaleb", "noobs2ninjas"];
		
		function process_request(channel) {
			var request = new XMLHttpRequest();

			request.open('GET', jsonStr+channel, true);

			request.onload = function() {
				if (this.status >= 200 && this.status < 400) {
					// Success!
					var data = JSON.parse(this.response);
					if (data['stream'] !== null)
					console.log(data['stream']['channel']['display_name'], ' : ', data['stream']['viewers']);
					
				} else {
					// We reached our target server, but it returned an error
					console.log('errorrr!');
				}
			};

			request.onerror = function() {
				console.log('eeee');
			};

			request.send();

		} /*end process_request*/
		
		for (var i =0; i < arr.length; i++) {
		 process_request(arr[i]);
			
			

		}
		
		
		
		
		
		
		
		
		
	</script>
</body>
</html>