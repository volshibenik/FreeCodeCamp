<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Calculator</title>
	<link rel="stylesheet" href="style.css">

</head>
<body>
	<div class="calc-body">
		<input type="text" name="main-input" id="main-input">
		<label for="memo">Ops tracker:</label>
		<input type="text" id="memo">
		
		
		
	
		<div class="calc-buttons">
			<div class="numbers">
				<button class="num btn" id="num_one">1
					<span class="goo goo-1"></span>
<!--					<span class="goo goo-2"></span>
					<span class="goo goo-3"></span>
					<span class="goo goo-4"></span>
					<span class="goo goo-5"></span>
					<span class="goo goo-6"></span>
					<span class="goo goo-7"></span>
					<span class="goo goo-8"></span>
					<span class="goo goo-9"></span>-->
				</button>
				<button class="num btn" id="num_two">2
					<span class="goo goo-1"></span>
					<span class="goo goo-2"></span>
			<!--		<span class="goo goo-3"></span>
					<span class="goo goo-4"></span>
					<span class="goo goo-5"></span>
					<span class="goo goo-6"></span>
					<span class="goo goo-7"></span>
					<span class="goo goo-8"></span>
					<span class="goo goo-9"></span>-->
				</button>
				<button class="num btn" id="num_three">3
					<span class="goo goo-1"></span>
					<span class="goo goo-2"></span>
					<span class="goo goo-3"></span>
		<!--			<span class="goo goo-4"></span>
					<span class="goo goo-5"></span>
					<span class="goo goo-6"></span>
					<span class="goo goo-7"></span>
					<span class="goo goo-8"></span>
					<span class="goo goo-9"></span> -->
				</button>
				<button class="num btn" id="num_four">4
					<span class="goo goo-1"></span>
					<span class="goo goo-2"></span>
					<span class="goo goo-3"></span>
					<span class="goo goo-4"></span>
<!--					<span class="goo goo-5"></span>
					<span class="goo goo-6"></span>
					<span class="goo goo-7"></span>
					<span class="goo goo-8"></span>
					<span class="goo goo-9"></span>-->
				</button>
				<button class="num btn" id="num_five">5
					<span class="goo goo-1"></span>
					<span class="goo goo-2"></span>
					<span class="goo goo-3"></span>
					<span class="goo goo-4"></span>
					<span class="goo goo-5"></span>
			<!--		<span class="goo goo-6"></span>
					<span class="goo goo-7"></span>
					<span class="goo goo-8"></span>
					<span class="goo goo-9"></span>-->
				</button>
				<button class="num btn" id="num_six">6
					<span class="goo goo-1"></span>
					<span class="goo goo-2"></span>
					<span class="goo goo-3"></span>
					<span class="goo goo-4"></span>
					<span class="goo goo-5"></span>
					<span class="goo goo-6"></span>
<!--					<span class="goo goo-7"></span>
					<span class="goo goo-8"></span>
					<span class="goo goo-9"></span>-->
				</button>
				<button class="num btn" id="num_seven">7
					<span class="goo goo-1"></span>
					<span class="goo goo-2"></span>
					<span class="goo goo-3"></span>
					<span class="goo goo-4"></span>
					<span class="goo goo-5"></span>
					<span class="goo goo-6"></span>
					<span class="goo goo-7"></span>
<!--					<span class="goo goo-8"></span>
					<span class="goo goo-9"></span>-->
				</button>
				<button class="num btn" id="num_eight">8
					<span class="goo goo-1"></span>
					<span class="goo goo-2"></span>
					<span class="goo goo-3"></span>
					<span class="goo goo-4"></span>
					<span class="goo goo-5"></span>
					<span class="goo goo-6"></span>
					<span class="goo goo-7"></span>
					<span class="goo goo-8"></span>
<!--					<span class="goo goo-9"></span>-->
				</button>
				<button class="num btn" id="num_nine">9
					<span class="goo goo-1"></span>
					<span class="goo goo-2"></span>
					<span class="goo goo-3"></span>
					<span class="goo goo-4"></span>
					<span class="goo goo-5"></span>
					<span class="goo goo-6"></span>
					<span class="goo goo-7"></span>
					<span class="goo goo-8"></span>
					<span class="goo goo-9"></span>
				</button>
				<button class="num btn" id="num_zero">0</button>
				
				<button class="num btn" id="num_decimal">.</button>
				
			</div>
			
			<div class="math-ops">
				<button class="btn btn-math" id="clear">CE</button>
				<button class="btn btn-math" id="back">L--</button>
				<button class="btn btn-math" id="plus">
					<svg version="1.1" id="sv1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
							 viewBox="-22 -22 84 84" style="enable-background:new 0 0 42 42;" xml:space="preserve">
						<path d="M37.059,16H26V4.941C26,2.224,23.718,0,21,0s-5,2.224-5,4.941V16H4.941C2.224,16,0,18.282,0,21s2.224,5,4.941,5H16v11.059
										 C16,39.776,18.282,42,21,42s5-2.224,5-4.941V26h11.059C39.776,26,42,23.718,42,21S39.776,16,37.059,16z"/>
					
					</svg>
				</button>
				<button class="btn btn-math" id="minus">
					<svg  id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M417.4,224H94.6C77.7,224,64,238.3,64,256c0,17.7,13.7,32,30.6,32h322.8c16.9,0,30.6-14.3,30.6-32  C448,238.3,434.3,224,417.4,224z"/></svg>
				</button>
				<button class="btn btn-math" id="multi">*
				</button>
				<button class="btn btn-math" id="divide">/</button>
				<button class="btn btn-math" id="eq">
					<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
							 viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">
						<g>
							<g>
								<rect y="20" style="fill:#010002;" width="32" height="8"/>
								<rect y="4" style="fill:#010002;" width="32" height="8"/>
							</g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
						<g>
						</g>
					</svg>
				</button>
			</div>
		</div>
		
	</div>
	<script>

		//buttons
		
		var clear = document.getElementById('clear');
		var back = document.getElementById('back');
		var plus = document.getElementById('plus');
		var minus = document.getElementById('minus');
		var multi = document.getElementById('multi');
		var divide = document.getElementById('divide');
		var eq = document.getElementById('eq');
		var input = document.getElementById('main-input');
		var memo = document.getElementById('memo');
		
		var num_one = document.getElementById('num_one');
		var num_two = document.getElementById('num_two');
		var num_three = document.getElementById('num_three');
		var num_four = document.getElementById('num_four');
		var num_five = document.getElementById('num_five');
		var num_six = document.getElementById('num_six');
		var num_seven = document.getElementById('num_seven');
		var num_eight = document.getElementById('num_eight');
		var num_nine = document.getElementById('num_nine');
		var num_zero = document.getElementById('num_zero');
		
		
		//variables
		
		var cur = '0';
		var scr;
		var txt = '';
		var op = '+';
		
		
		//common functions
		
		function clearing() {
			
			if (this.id) {
				this.classList.add('effect-clear');
				
				setTimeout(() => {
					this.classList.remove('effect-clear'); 
				}, 350);
			};
			
			cur = 0; 
			scr = 0; 
			txt = ''; 
			input.value = '';
			memo.value = '';
			op = '+';
			input.classList.remove('calculated'); 
			input.classList.remove('equated');
		}
		
		
		var type_num = function (number, el) {
			el.classList.add('clickio');
			if (input.classList.contains('equated')) {
				clearing();
			}
			
			if (input.classList.contains('calculated')) {
				input.value = number;
			} else {
				input.value += number;
			}
			input.classList.remove('calculated');
			setTimeout(function(){
				el.classList.remove('clickio');
			},1100);
		}
		
		
		var math_op = function (operator, el) {
			input.classList.remove('equated');
			if (input.classList.contains('calculated')) {
				op = operator;
			} else {
				scr = input.value || 0;

				txt = txt!==''? txt+op+scr : scr;

				cur = eval(cur + op + scr);

				op = operator;

				input.value = cur;
				input.classList.add('calculated'); 

				memo.value = txt;
			}
			//decoration CSS
			el.classList.add('effect');
			setTimeout(function(){
				el.classList.remove('effect');
			},2350)
			
		}
		
		//main stuff
		
		num_one.addEventListener('click', function(){type_num('1', this)});
		num_two.addEventListener('click', function(){type_num('2', this)});
		num_three.addEventListener('click', function(){type_num('3', this)});
		num_four.addEventListener('click', function(){type_num('4', this)});
		num_five.addEventListener('click', function(){type_num('5', this)});
		num_six.addEventListener('click', function(){type_num('6', this)});
		num_seven.addEventListener('click', function(){type_num('7', this)});
		num_eight.addEventListener('click', function(){type_num('8', this)});
		num_nine.addEventListener('click', function(){type_num('9', this)});
		num_zero.addEventListener('click', function(){type_num('0', this)});
		num_decimal.addEventListener('click', function(){type_num('.', this)});
	
		plus.addEventListener('click', function(){math_op('+', this)});
		minus.addEventListener('click', function(){math_op('-', this)});
		multi.addEventListener('click', function(){math_op('*', this)});
		divide.addEventListener('click', function(){math_op('/', this)});
		
		
		eq.addEventListener('click', function(){
			if (!input.classList.contains('equated')) {
				scr = input.value;
			} 
				
		//		txt = txt+op+scr;
			txt = '';

			cur = eval(cur + op + scr);
			input.value = cur;
			memo.value = txt;
		//	txt = '';
			input.classList.add('calculated'); 
			input.classList.add('equated');
			
		});
		
		back.addEventListener('click', function(){
			if (!input.classList.contains('calculated')) {
				var toTrim = input.value;
				toTrim = toTrim.slice(0, toTrim.length-1);
				input.value = toTrim;
			} 
		});
		
	  clear.addEventListener('click', clearing);
		
		/*function numFromKeyboard(e) {
			console.log(e.keyCode);
			
		}
		
		window.addEventListener('keydown', numFromKeyboard);
		*/
		
	</script>
</body>
</html>